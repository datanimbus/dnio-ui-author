<ng-container>
    <div class="form-group">
        <label class="font-14 fw-400 text-dark" for="nodeType">API Type</label>
        <select id="nodeType" class="form-control" [(ngModel)]="api['type']" [disabled]="!edit.status"
            (ngModelChange)="onChange($event)">
            <option value="External" selected>External</option>
            <option value="DataPipe">DataPipe</option>
        </select>
    </div>
    <div class="form-group">
        <label class="font-14 fw-400 text-dark" for="nodeHTTPMethod">HTTP Method</label>
        <select id="nodeHTTPMethod" class="form-control" [(ngModel)]="api['method']" (ngModelChange)="onChange($event)">
            <option value="POST" selected>POST</option>
            <option value="GET">GET</option>
            <option value="PUT">PUT</option>
            <option value="DELETE">DELETE</option>
        </select>
    </div>
    <div class="form-group">
        <label class="font-14 fw-400 text-dark" for="nodeEndpoint">API Endpoint</label>
        <odp-change-on-edit id="nodeEndpoint" [(ngModel)]="api['endpoint']" (ngModelChange)="onChange($event)"
            (keydown.delete)="$event.stopPropagation();"></odp-change-on-edit>
    </div>
    <div class="form-group">
        <label class="font-14 fw-400 text-dark" for="nodeContentType">Content-Type</label>
        <select id="nodeContentType" class="form-control" [(ngModel)]="api['contentType']" [disabled]="!edit.status"
            (ngModelChange)="onChange($event)">
            <option value="application/json" selected>application/json</option>
            <option value="application/xml">application/xml</option>
            <option value="multipart/form-data">multipart/form-data</option>
        </select>
    </div>
    <div class="form-group">
        <label class="font-14 fw-400 text-dark" for="nodeHeaders">Headers</label>
        <odp-change-on-edit id="nodeHeaders" [(ngModel)]="api['headers']"
            (ngModelChange)="onChange($event)"></odp-change-on-edit>
    </div>
    <div class="form-group position-relative">
        <label class="font-14 fw-400 text-dark" for="requestTimeout">Timeout (sec)</label>
        <odp-change-on-edit id="requestTimeout" [isTimeout]="true" [(ngModel)]="api['timeout']"
            (ngModelChange)="onChange($event)"></odp-change-on-edit>
    </div>
    <div class="form-group position-relative">
        <label class="font-14 fw-400 text-dark" for="retryCount">Retry Count</label>
        <odp-change-on-edit id="retryCount" [(ngModel)]="api['retryCount']"
            (ngModelChange)="onChange($event)"></odp-change-on-edit>
        <!-- <input id="retryCount" class="form-control" type="number" [(ngModel)]="currNode.api.retry.count"> -->
    </div>
    <div class="form-group position-relative">
        <label class="font-14 fw-400 text-dark" for="retryInterval">Retry Interval (sec)</label>
        <odp-change-on-edit id="retryInterval" [(ngModel)]="api['retryInterval']"
            (ngModelChange)="onChange($event)"></odp-change-on-edit>
        <!-- <input id="retryInterval" class="form-control" type="number"
            [(ngModel)]="currNode.options.retry.interval"> -->
    </div>

    <div class="border rounded p-2 bg-light mb-3">
        <div class="form-group">
            <label class="font-14 fw-400 text-dark mb-0" for="inputDataStructure">Input Data Structure</label>
            <small class="form-text text-muted mb-3">Set the data structure that this node will accept</small>
            <odp-data-structure-selector id="inputDataStructure" class="d-flex" [edit]="edit"
                [format]="dataStructure?.incoming" (formatChange)="onFormatChange($event,'incoming')"
                [hideGeneric]="false">
            </odp-data-structure-selector>
        </div>
        <button type="button" class="btn btn-dark w-100 ignore-outside" (click)="toggle['mapping']=!toggle['mapping']"
            *ngIf="showDataMapping">
            Data Mapping
        </button>
    </div>

    <div class="border rounded p-2 bg-light mb-3">
        <div class="form-group">
            <label class="font-14 fw-400 text-dark mb-0" for="outputDataStructure">Output Data Structure</label>
            <small class="form-text text-muted mb-3">Set the data structure that this node will return</small>
            <odp-data-structure-selector id="outputDataStructure" class="d-flex" [edit]="edit"
                [format]="dataStructure?.outgoing" (formatChange)="onFormatChange($event,'outgoing')"
                [hideGeneric]="false">
            </odp-data-structure-selector>
        </div>
        <button *ngIf="showDataMapping" type="button" class="btn btn-dark w-100 ignore-outside"
            (click)="toggle['mapping']=!toggle['mapping']">
            Data Mapping
        </button>
    </div>
</ng-container>